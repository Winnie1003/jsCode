<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>自定义字体形状</title>
    <style>
        html,body,ul{
            margin:0;
            padding:0;
        }
        #wrapper{
            background: url("img/12-3-bg.jpg") 0 0 no-repeat;
            margin:10px auto;
            width:556px;
            height:535px;
            position: relative;
        }
        #showbox{
            width: 402px;
            height:288px;
            margin:0 1px;
            position:absolute;
            top:90px;
            overflow: auto;
            font-size:16px;
        }
        select{
            position:absolute;
            top:384px;
            left:40px;
        }
        textarea{
            width:398px;
            height:96px;
            margin:0 1px;
            position:absolute;
            top:404px;
            resize:none;
            border:none;


        }
        div input{
            position:absolute;
            top:507px;
            left:321px;
            width:80px;
            height:21px;
            outline:none;
            background-color: #f4f9fc;
            border:0;
            text-align:center;
            cursor: pointer;
            color:#4c5969;
            border:1px solid #818f8f;
            border-radius: 5px;

        }
        #showbox div{
            width:20px;
            font-size:16px;
            display:inline-block;
            margin:2px 0;
        }
        div img{
            width:16px;
            height:16px;
        }
    </style>
</head>
<body>
    <div id="wrapper">
        <div id="showbox">

        </div>
        <select name="fontStyle" id="fontStyle">
            <option value="balloon">气球字体</option>
            <option value="heart">爱心字体</option>
            <option value="jiong">囧字体</option>
            <option value="knife">砍刀字体</option>
            <option value="shuai">衰字体</option>
            <option value="default" selected>默认字体</option>
        </select>
        <textarea name="textarea" id="" cols="30" rows="10"></textarea>
        <input id="send" type="button" value="发送(S)">
    </div>
    <script>
        window.onload = function(){
            var oShowbox = document.getElementById('showbox');
            var oSelect  = document.getElementsByTagName('select')[0];
            var oTextarea = document.getElementsByTagName('textarea')[0];
            var oSend = document.getElementsByTagName('input')[0];
            var json = {
                'balloon':'img/12-3-balloon.png',
                'heart':'img/12-3-heart.gif',
                'jiong':'img/12-3-jiong.gif',
                'knife':'img/12-3-knife.gif',
                'shuai':'img/12-3-shuai.gif'

            };
            oSend.onclick = function(){
                var str = oTextarea.value;
                if(str == '') {
                    alert('请在下面的输入框中输入文字后点击发送!');
                }
                if( oSelect.value == 'default' ) {
                    oShowbox.innerHTML += str;
                    oTextarea.value = '';
                }
                for (attr in json) {
                    useFont(attr, json[attr], str);
                }
            }
            function useFont(fontStyle, url, str) {
                if(oSelect.value == fontStyle){
                    var arr = str.split('');
                    str = '';
                    for(var i=0; i<arr.length; i++) {

                        str += '<div><img src = "' + url + '"><span>' + arr[i] + '<span></div>'
                    }
                    oShowbox.innerHTML += str + '<br/>';
                    oTextarea.value = '';
                }
            }

        }
    </script>
</body>
</html>